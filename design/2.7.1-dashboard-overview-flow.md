# 2.7.1 Dashboard Overview Flow

## Feature: Dashboard Overview
**Actor:** Admin, Librarian  
**Dependencies:** 2.1.2 (Login), 2.2.2 (Add Book), 2.3.1 (Borrow Book), 2.4.2 (Confirm Return)

## Flowchart

```mermaid
flowchart TD
    Start([User Admin/Librarian logs in]) --> CheckRole{User role?}
    
    CheckRole -->|Admin| RedirectAdmin[Redirect to Admin Dashboard]
    CheckRole -->|Librarian| RedirectLibrarian[Redirect to Librarian Dashboard]
    CheckRole -->|Reader| RedirectReader[Redirect to Reader Dashboard]
    
    RedirectAdmin --> LoadDashboard[Load dashboard data]
    RedirectLibrarian --> LoadDashboard
    
    LoadDashboard --> CalculateStats[Calculate statistics:<br/>- Total Books: Available/Borrowed/Lost/Damaged<br/>- Total Readers: Active/Inactive<br/>- Today's Borrow Requests<br/>- Top 5 Most Popular Books<br/>- Readers with Overdue Books]
    
    CalculateStats --> DisplayDashboard[Display dashboard with:<br/>- Statistics cards<br/>- Charts/graphs<br/>- Lists]
    
    DisplayDashboard --> UserAction{User action?}
    
    UserAction -->|Refresh| RefreshDashboard[Refresh dashboard]
    UserAction -->|View Details| ClickDetails[Click on statistic/item]
    UserAction -->|Navigate Reports| NavigateReports[Navigate to Detailed Reports]
    
    RefreshDashboard --> LoadDashboard
    
    ClickDetails --> ShowDetails[Show detailed information]
    ShowDetails --> CloseDetails[Close details]
    CloseDetails --> DisplayDashboard
    
    NavigateReports --> ReportsPage([Detailed Reports Page - 2.7.2])
    
    LoadDashboard --> CheckData{Data available?}
    
    CheckData -->|No| ShowEmpty[Show 'Chưa có dữ liệu' message]
    CheckData -->|Yes| DisplayDashboard
    
    LoadDashboard --> ErrorNetwork{Network error?}
    
    ErrorNetwork -->|Yes| ShowError[Show error message, allow retry]
    ShowError --> LoadDashboard
    ErrorNetwork -->|No| CalculateStats
    
    RedirectReader --> ReaderDashboard([Reader Dashboard])
    
    style Start fill:#e1f5ff
    style DisplayDashboard fill:#c8e6c9
    style ReportsPage fill:#fff9c4
    style ReaderDashboard fill:#fff9c4
    style ShowEmpty fill:#fff9c4
    style ShowError fill:#ffcdd2
```

## Display Information
- **Total Books:** Available / Borrowed / Lost / Damaged
- **Total Readers:** Active / Inactive
- **Today's Borrow Requests**
- **Top 5 Most Popular Books**
- **List of Readers with Overdue Books**

## Error Cases
- No data available
- Network error

## Alternative Flows
- Refresh dashboard
- View detailed information
- Navigate to detailed reports

